server:
  host: "0.0.0.0"
  port: 8080
  timeout_secs: 30

# Global authentication configuration
auth:
  # API Key configuration with Redis backend
  api_key:
    header: "X-API-Key"
    # In-memory keys as fallback
    keys:
      "emergency_key_123": "Emergency access key"
    # Redis configuration for distributed key storage
    redis:
      url: "redis://localhost:6379"
      prefix: "gateway:apikey:"

routes:
  - path: "/api/users"
    backend: "http://localhost:3000"
    methods: ["GET", "POST", "PUT", "DELETE"]
    description: "User API"
    auth:
      required: true
      methods: ["apikey"]

  - path: "/api/products"
    backend: "http://localhost:3001"
    methods: ["GET"]
    description: "Product catalog"
    auth:
      required: true
      methods: ["apikey"]
